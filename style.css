/* PALETA DE COLORES */
:root {
    /* Tema Claro */
    --color-background: #F8F8FF; 
    --color-text-dark: #333333;
    --color-text-light: #B0BEC5; 
    --color-card-bg: #ffffff;
    --color-card-shadow: rgba(0,0,0,0.1);
    --color-input-border: #e0e0e0;
    --color-input-disabled: #f0f0f0;
    
    /* Tema Oscuro (Discord Style) */
    --dark-bg: #36393f; 
    --dark-card-bg: #2f3136; 
    --dark-text: #f6f6f7; 
    --dark-text-subtle: #96989d; 
    --dark-input-border: #40444b; 
    
    /* Acentos (Ambos temas) */
    --color-metal-start: #3d884e;   /* Nuevo inicio: Más Oscuro */
    --color-metal-end: #8BC34A;     /* Nuevo fin: Más Claro */
    --color-line-gradient: linear-gradient(90deg, var(--color-metal-start), var(--color-metal-end)); 
    --color-heart: #FF0000;      
    
    /* Colores del Botón de Tema */
    --btn-light-border: var(--dark-bg);
    --btn-dark-border: var(--dark-text); /* Blanco/Claro para modo oscuro */
    --btn-hover-fill: var(--dark-bg);   
    --btn-hover-fill-dark: var(--dark-text); /* Blanco para el relleno en hover en modo oscuro */

    /* Espaciado responsivo para bordes */
    --spacing-mobile: 4vmin;
    --spacing-desktop: 20px;
}

/* ==================================== */
/* TRANSICIÓN DE TEMA Y ESTILOS GLOBALES */
/* ==================================== */
body {
    font-family: 'Arial', sans-serif;
    margin: 0; 
    padding: 0;
    background-color: var(--color-background); 
    min-height: 100vh; 
    display: flex; flex-direction: column; align-items: center; justify-content: flex-start; 
    padding: var(--spacing-mobile); 
    box-sizing: border-box; 
    transition: background-color 0.4s;
}

/* 1. H1 Y SOMBRA DINÁMICA */
h1 {
    font-family: 'Bebas Neue', cursive; 
    text-align: center; margin: 0 0 10px; font-size: 3em; letter-spacing: 2px; font-weight: 900;
    background: var(--color-line-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent; 
    background-clip: text;
    
    /* Sombra Clara por defecto */
    text-shadow: 1px 1px 1px rgba(255, 255, 255, 0); /* Sutil en claro */
    filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.15));
}
.dark-mode h1 {
    /* Sombra Blanca en modo oscuro */
    text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.4); 
    filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.4));
}


/* 2. NUEVO DISEÑO DE TARJETA (CONTAINER) */
.container {
    width: 100%; 
    max-width: 400px; 
    margin: 10px 0; 
    padding: 30px; /* Más padding */
    
    /* Estilo Moderno */
    background: var(--color-card-bg);
    box-shadow: 0 10px 30px var(--color-card-shadow); 
    border-radius: 20px; /* Más redondeado */
    border-left: 5px solid var(--color-metal-start); /* Línea de acento */
    
    position: relative;
    z-index: 10;
    transition: all 0.3s;
}

/* Inputs, Labels, HR... */
label { color: var(--color-text-dark); transition: color 0.3s; }
.unidad { color: var(--color-text-light); transition: color 0.3s; }
input[type="number"] { transition: all 0.3s; border: 1px solid var(--color-input-border); }
input:focus:not([disabled]) { box-shadow: 0 0 0 3px rgba(61, 136, 78, 0.2); } /* Sombra de foco más limpia */
hr { background: var(--color-line-gradient); }

/* 3. FOOTER (Color Blanco fijo para buen contraste) */
footer p {
    color: var(--dark-text); /* Color claro (blanco/casi blanco) fijo */
    margin: 0; opacity: 0.7; transition: color 0.3s;
}

@keyframes beat { 0%, 100% { transform: scale(1); } 15% { transform: scale(1.15); } }
.heart-icon { color: var(--color-heart); animation: beat 1s infinite; }

/* ==================================== */
/* 4. BOTÓN DE TEMA (Rectangular, animado) */
/* ==================================== */
.theme-toggle {
    position: fixed; bottom: var(--spacing-mobile); left: var(--spacing-mobile); 
    width: 120px; height: 40px; border-radius: 6px; 
    background: transparent;
    border: 2px solid var(--btn-light-border); /* Borde oscuro en modo claro */
    overflow: hidden;
    padding: 0; cursor: pointer;
    box-shadow: none; /* Quitamos la sombra */
    transition: all 0.25s, border-color 0.3s;
    z-index: 1000;
}

/* Iconos */
.theme-toggle i {
    position: absolute; top: 50%; transform: translateY(-50%); font-size: 1.2em; z-index: 3;
    transition: color 0.25s, opacity 0.25s, transform 0.25s;
}

/* Icono de LUNA (Modo Claro/Hover) */
.theme-toggle > .fa-moon { left: 10px; color: var(--btn-light-border); } 

/* Icono de SOL (Modo Oscuro/Hover) */
.theme-toggle > span > .fa-sun { right: 10px; left: auto; color: white; opacity: 0; }
.hidden { opacity: 0 !important; visibility: hidden; } /* Para control JS */

/* Pseudo-elementos de la animación de hover */
.theme-toggle > span { position: relative; z-index: 2; display: block; width: 100%; height: 100%; }

.theme-toggle::after, .theme-toggle > span::after {
    width: 50%; height: 100%; position: absolute; background-color: var(--btn-hover-fill); 
    transition: transform 0.25s ease-out; content: ""; z-index: 1; top: 0;
}

/* Animación: Arriba (Izquierda) se llena de I -> D; Abajo (Derecha) se llena de D -> I */
.theme-toggle::after { left: 0; transform: translateX(-100%); } /* Mitad Izquierda (cuerpo principal) */
.theme-toggle > span::after { right: 0; left: auto; transform: translateX(100%); } /* Mitad Derecha (dentro de span) */

/* ESTADO HOVER (Modo Claro) */
.theme-toggle:hover { border-color: var(--btn-hover-fill); }
.theme-toggle:hover::after { transform: translateX(0); } 
.theme-toggle:hover > span::after { transform: translateX(0); } 
.theme-toggle:hover > .fa-moon { opacity: 0.1; } /* Luna se oscurece y cede protagonismo */
.theme-toggle:hover > span > .fa-sun { opacity: 1; } /* Muestra el sol en el relleno oscuro */


/* ==================================== */
/* 5. ESTILOS DEL MODO OSCURO (.dark-mode) */
/* ==================================== */

body.dark-mode { background-color: var(--dark-bg); }
.dark-mode .container { 
    background: var(--dark-card-bg);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.6);
    border-left-color: var(--color-metal-end); 
}
/* ... otros elementos de modo oscuro ... */
.dark-mode label { color: var(--dark-text); }
.dark-mode .unidad { color: var(--dark-text-subtle); }
.dark-mode input[type="number"] { background-color: var(--dark-card-bg); border-color: var(--dark-input-border); color: var(--dark-text); }
.dark-mode input[disabled] { background-color: #202225; }


/* BOTÓN EN MODO OSCURO */
.dark-mode .theme-toggle {
    background: transparent;
    border-color: var(--btn-dark-border); /* Borde blanco */
}
.dark-mode .theme-toggle > .fa-moon { /* Luna es el icono de HOVER */
    color: var(--btn-dark-border); 
}
.dark-mode .theme-toggle > span > .fa-sun { /* Sol es el icono NORMAL */
    left: 10px; right: auto; color: var(--btn-dark-border); /* Lo movemos a la posición de la luna/inicio */
}
.dark-mode .theme-toggle > .fa-moon { left: auto; right: 10px; } /* Luna es el icono de HOVER */

/* Modo Oscuro: Invertir animación y colores en hover */
.dark-mode .theme-toggle:hover {
    border-color: var(--btn-hover-fill-dark); /* Borde blanco/claro en hover */
}
.dark-mode .theme-toggle::after, .dark-mode .theme-toggle > span::after {
    background-color: var(--btn-hover-fill-dark); /* Relleno blanco */
}

/* Modo oscuro: REVELAR fondo blanco en hover (animación inversa) */
.dark-mode .theme-toggle:hover::after {
    transform: translateX(-100%); /* Izquierda se va */
}
.dark-mode .theme-toggle:hover > span::after {
    transform: translateX(100%); /* Derecha se va */
}

/* Modo oscuro: HOVER de ICONOS */
.dark-mode .theme-toggle:hover > span > .fa-sun { opacity: 0; } /* Oculta Sol */
.dark-mode .theme-toggle:hover > .fa-moon { opacity: 1; color: var(--btn-light-border); } /* Muestra Luna (con color oscuro) */


/* ==================================== */
/* 6. ESTILOS DE LA TRANSICIÓN DE ONDA */
/* ==================================== */
#theme-transition {
    position: fixed;
    top: 0; left: 0; 
    width: 100vw; height: 100vh;
    background-color: transparent; /* El color se define en JS */
    border-radius: 50%;
    transform: scale(0);
    z-index: 999; /* Debajo del botón, pero encima del contenido */
    pointer-events: none; /* Permite hacer clic en elementos debajo */
    transition: transform 0.6s ease-in-out; 
}


/* MEDIA QUERY... */
@media (min-width: 600px) { /*... */ }